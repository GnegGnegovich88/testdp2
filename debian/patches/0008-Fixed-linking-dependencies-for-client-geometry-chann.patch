From de743a836a982807cbb88efdebb66c09eea010f2 Mon Sep 17 00:00:00 2001
From: akallabeth <akallabeth@posteo.net>
Date: Tue, 1 Dec 2020 11:44:14 +0100
Subject: [PATCH 08/36] Fixed linking dependencies for client geometry channel

(cherry picked from commit 7056433c8ecd045912fecb896ffa2eac3aad1410)
---
 channels/geometry/client/CMakeLists.txt | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

diff --git a/channels/geometry/client/CMakeLists.txt b/channels/geometry/client/CMakeLists.txt
index ea28bff9d..ac9fdc407 100644
--- a/channels/geometry/client/CMakeLists.txt
+++ b/channels/geometry/client/CMakeLists.txt
@@ -25,9 +25,10 @@ include_directories(..)
 
 add_channel_client_library(${MODULE_PREFIX} ${MODULE_NAME} ${CHANNEL_NAME} TRUE "DVCPluginEntry")
 
-
-
 set(${MODULE_PREFIX}_LIBS ${${MODULE_PREFIX}_LIBS} winpr)
+if (NOT BUILTIN_CHANNELS OR NOT BUILD_SHARED_LIBS)
+    set(${MODULE_PREFIX}_LIBS ${${MODULE_PREFIX}_LIBS} freerdp-client)
+endif()
 
 target_link_libraries(${MODULE_NAME} ${${MODULE_PREFIX}_LIBS})
 
-- 
2.30.2

